# =============================================================================
# Primăriata - Environment Variables Template
# =============================================================================
#
# Instructions:
# 1. Copy this file to .env.local: cp .env.example .env.local
# 2. Fill in the actual values (see documentation links below)
# 3. Never commit .env.local to Git (already in .gitignore)
#
# Documentation: .docs/02-technical-specs/TECH_SPEC_Infrastructure.md
# =============================================================================

# -----------------------------------------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------------------------------------

# Environment (development | staging | production)
NODE_ENV=development

# App URL (used for OAuth redirects, email links, etc.)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# SUPABASE (Backend & Database)
# -----------------------------------------------------------------------------
# Get these from: https://supabase.com/dashboard/project/[your-project]/settings/api

# Project URL (Public)
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co

# Anonymous Key (Public - safe to expose in browser)
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Service Role Key (SECRET - never expose in browser!)
# Used for admin operations, bypasses RLS
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Database Direct URL (for migrations, optional)
# Format: postgresql://postgres:[password]@db.[project-id].supabase.co:5432/postgres
DATABASE_URL=postgresql://postgres:your-db-password@db.your-project-id.supabase.co:5432/postgres

# -----------------------------------------------------------------------------
# AUTHENTICATION (Supabase Auth)
# -----------------------------------------------------------------------------
# Configuration done in Supabase Dashboard > Authentication > Settings

# Google OAuth (optional)
# Get from: https://console.cloud.google.com/apis/credentials
NEXT_PUBLIC_GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-your-google-client-secret

# -----------------------------------------------------------------------------
# EXTERNAL INTEGRATIONS
# -----------------------------------------------------------------------------

# certSIGN - Digital Signatures
# Get from: https://certsign.ro/api-documentation
CERTSIGN_API_KEY=your-certsign-api-key
CERTSIGN_API_URL=https://api.certsign.ro/v1
CERTSIGN_MERCHANT_ID=your-certsign-merchant-id

# Ghișeul.ro - Payment Gateway
# Get from: https://ghiseul.ro/merchants/api
GHISEUL_MERCHANT_ID=your-ghiseul-merchant-id
GHISEUL_SECRET_KEY=your-ghiseul-secret-key
GHISEUL_API_URL=https://api.ghiseul.ro/v2
GHISEUL_RETURN_URL=http://localhost:3000/api/webhooks/ghiseul
GHISEUL_CANCEL_URL=http://localhost:3000/plati/anulat

# SendGrid - Email Service
# Get from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=SG.your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@primariata.work
SENDGRID_FROM_NAME=Primăriata

# Twilio - SMS Service (optional)
# Get from: https://console.twilio.com/
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+40700000000

# -----------------------------------------------------------------------------
# AI & MACHINE LEARNING
# -----------------------------------------------------------------------------

# OpenAI - AI Analysis for Research Platform
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# OpenAI Model Configuration (optional, defaults provided)
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.3

# -----------------------------------------------------------------------------
# MONITORING & ANALYTICS
# -----------------------------------------------------------------------------

# Sentry - Error Tracking
# Get from: https://sentry.io/settings/[org]/projects/[project]/keys/
NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn@o1234567.ingest.sentry.io/1234567
SENTRY_AUTH_TOKEN=your-sentry-auth-token
SENTRY_ORG=your-sentry-org
SENTRY_PROJECT=primariata-work

# PostHog - Product Analytics (optional)
# Get from: https://app.posthog.com/project/[project]/settings
NEXT_PUBLIC_POSTHOG_KEY=phc_your-posthog-key
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# Vercel Analytics (auto-configured on Vercel deployment)
# NEXT_PUBLIC_VERCEL_ANALYTICS_ID=auto-generated-on-vercel

# -----------------------------------------------------------------------------
# FEATURE FLAGS (optional)
# -----------------------------------------------------------------------------

# Enable/disable features during development
NEXT_PUBLIC_ENABLE_PAYMENTS=false
NEXT_PUBLIC_ENABLE_DIGITAL_SIGNATURES=false
NEXT_PUBLIC_ENABLE_SMS_NOTIFICATIONS=false
NEXT_PUBLIC_ENABLE_GOOGLE_OAUTH=true
NEXT_PUBLIC_ENABLE_MOCK_SERVICES=true

# -----------------------------------------------------------------------------
# SECURITY & RATE LIMITING
# -----------------------------------------------------------------------------

# JWT Secret (used for additional token signing, if needed)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-random-32-character-secret-here

# Session Duration (in seconds)
SESSION_DURATION=2592000  # 30 days

# Rate Limiting (requests per window)
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60000  # 1 minute in milliseconds

# CORS Allowed Origins (comma-separated)
CORS_ALLOWED_ORIGINS=http://localhost:3000,https://primariata.work

# -----------------------------------------------------------------------------
# CLOUDFLARE (CDN & Security)
# -----------------------------------------------------------------------------
# Configuration done in Cloudflare Dashboard
# For Turnstile (CAPTCHA alternative), get from:
# https://dash.cloudflare.com/[account]/turnstile

NEXT_PUBLIC_CLOUDFLARE_TURNSTILE_SITE_KEY=0x4AAAAAAABbbbCccCccCccCcc
CLOUDFLARE_TURNSTILE_SECRET_KEY=0x4AAAAAAABbbbCccCccCccCcc_secret

# -----------------------------------------------------------------------------
# DEVELOPMENT & DEBUGGING
# -----------------------------------------------------------------------------

# Enable detailed logging
DEBUG=false

# Enable React DevTools in production (use cautiously)
NEXT_PUBLIC_ENABLE_REACT_DEVTOOLS=false

# Mock external services for offline development
MOCK_CERTSIGN=true
MOCK_GHISEUL=true
MOCK_SENDGRID=true
MOCK_TWILIO=true

# Database Query Logging
LOG_DATABASE_QUERIES=false

# -----------------------------------------------------------------------------
# CI/CD & DEPLOYMENT
# -----------------------------------------------------------------------------

# Vercel (auto-configured on deployment)
# VERCEL=1
# VERCEL_URL=auto-generated
# VERCEL_ENV=production|preview|development

# GitHub Actions (for CI/CD)
# CI=true
# GITHUB_ACTIONS=true

# =============================================================================
# IMPORTANT NOTES
# =============================================================================
#
# 1. SECRETS MANAGEMENT:
#    - Never commit .env.local to Git
#    - Store production secrets in Vercel/Supabase dashboards
#    - Rotate keys regularly (every 90 days recommended)
#
# 2. ENVIRONMENT-SPECIFIC FILES:
#    - .env.local        → Local development (this template)
#    - .env.development  → Shared dev config (can commit)
#    - .env.test         → Test environment
#    - .env.production   → Production (Vercel only, never commit)
#
# 3. NEXT.JS RULES:
#    - NEXT_PUBLIC_* variables are exposed to browser
#    - Other variables are server-only
#    - Changes require server restart (pnpm dev)
#
# 4. GETTING CREDENTIALS:
#    - Supabase: Create project at https://supabase.com
#    - Google OAuth: https://console.cloud.google.com
#    - certSIGN: Contact sales at https://certsign.ro
#    - Ghișeul.ro: Register merchant at https://ghiseul.ro
#    - SendGrid: Free tier at https://sendgrid.com
#    - Sentry: Free tier at https://sentry.io
#
# 5. DOCUMENTATION:
#    - Full setup guide: .docs/03-implementation/IMPLEMENTATION_ROADMAP.md
#    - Infrastructure: .docs/02-technical-specs/TECH_SPEC_Infrastructure.md
#    - Security: .docs/02-technical-specs/TECH_SPEC_Security.md
#
# =============================================================================
